// This module contains all canned responses, escapeded at http://www.freeformatter.com/javascript-escape.html#ad-output

function get_groups() {
    return [{"name": "Administrators", "canWrite": ["000000010000010001e64c28"], "allowedChildTypes": [], "parent_id": "000000010000010001e64c24", "schemaId": "5d3b8e21-adf3-4005-b73c-1fb63a46f399", "canRead": ["000000010000010001e64c28"], "_id": "000000010000010001e64c28", "createdWhen": "2014-11-13T01:00:00+00:00", "rights": ["000000010000010001e64c27"]}, {"name": "Users", "canWrite": ["000000010000010001e64c28"], "createdWhen": "2014-11-13T01:00:00+00:00", "allowedChildTypes": [], "parent_id": "000000010000010001e64c24", "schemaId": "5d3b8e21-adf3-4005-b73c-1fb63a46f399", "canRead": ["000000010000010001e64c28"], "_id": "000000010000010001e64c29", "description": "The users group", "rights": []}];
}

function get_node_forms() {
    return 'var a = {\r\n    \"a9ca8030-6ea4-11e4-9803-0800200c9a66\": [\r\n        {\r\n            \"key\": \"name\",\r\n            type: \"text\",\r\n            title: \"Name\",\r\n            readonly: false\r\n        },\r\n        {\r\n            key: \"description\",\r\n            type: \"textarea\",\r\n            title: \"Description\",\r\n            readonly: false\r\n        },\r\n        {\r\n            type: \"fieldset\",\r\n            title: \"\",\r\n            items: [\r\n                {\r\n                    type: \"tabs\",\r\n                    tabs: [\r\n                        {\r\n                            title: \"Access\",\r\n                            items: [\r\n                                {\r\n                                    key: \"canWrite\",\r\n                                    title: \"Write\",\r\n                                    type: \"strapselect\",\r\n                                    description: \"The groups that have write access.\",\r\n                                    placeholder: \"No groups selected\",\r\n                                    startEmpty: false,\r\n                                    options: {\r\n                                        multiple: \"true\",\r\n                                        httpPost: {\r\n                                            url: \"\/node\/lookup\",\r\n                                            parameter: {\r\n                                                \"conditions\": {\"parent_id\": \"ObjectId(000000010000010001e64c24)\"},\r\n                                                \"collection\": \"node\"\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                },\r\n                                {\r\n                                    key: \"canRead\",\r\n                                    title: \"Read\",\r\n                                    type: \"strapselect\",\r\n                                    description: \"The groups that have read access.\",\r\n                                    placeholder: \"No groups selected\",\r\n                                    startEmpty: false,\r\n                                    options: {\r\n                                        multiple: \"true\",\r\n                                        httpPost: {\r\n                                            url: \"\/node\/lookup\",\r\n                                            parameter: {\r\n                                                \"conditions\": {\"parent_id\": \"ObjectId(000000010000010001e64c24)\"},\r\n                                                \"collection\": \"node\"\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                },\r\n                                {\r\n                                    key: \"allowedChildTypes\",\r\n                                    title: \"Allowed child type\",\r\n                                    type: \"strapselect\",\r\n                                    description: \"The child types that can be added to this node.\",\r\n                                    placeholder: \"No child types selected\",\r\n                                    startEmpty: true,\r\n                                    options: {\r\n                                        multiple: \"true\",\r\n                                        callback: scope.lookupChildNodeTypes\r\n                                    }\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            title: \"Metadata\",\r\n                            items: [\r\n                                {\r\n                                    key: \"_id\",\r\n                                    title: \"Id\",\r\n                                    description: \"The Id of the node. A <a href=\\\"http:\/\/docs.mongodb.org\/manual\/reference\/object-id\/\\\" target=\'_blank\'>MongoDB objectId<\/a>.\",\r\n                                    type: \"text\",\r\n                                    readonly: true\r\n                                },\r\n                                {\r\n                                    key: \"parent_id\",\r\n                                    title: \"Parent Id\",\r\n                                    description: \"The Id of the parent node. A <a href=\\\"http:\/\/docs.mongodb.org\/manual\/reference\/object-id\/\\\" target=\'_blank\'>MongoDB objectId<\/a>.\",\r\n                                    type: \"text\",\r\n                                    readonly: true\r\n                                },\r\n                                {\r\n                                    key: \"schemaId\",\r\n                                    type: \"text\",\r\n                                    title: \"Schema Id\",\r\n                                    description: \"The Id of the schema. A <a href=\\\"http:\/\/http:\/\/en.wikipedia.org\/wiki\/Universally_unique_identifier\/\\\" target=\'_blank\'>UUID(GUID)<\/a>.\",\r\n                                    readonly: true\r\n                                },\r\n                                {\r\n                                    key: \"createdWhen\",\r\n                                    type: \"text\",\r\n                                    title: \"Created when\",\r\n                                    description: \"The date and time the node was created.\",\r\n                                    readonly: true\r\n                                }\r\n                            ]\r\n                        }\r\n\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\": [\r\n        {\r\n            key: \"rights\",\r\n            title: \"Rights\",\r\n            type: \"strapselect\",\r\n            description: \"The rights the group has.\",\r\n            placeholder: \"No rights selected\",\r\n            startEmpty: false,\r\n            options: {\r\n                multiple: \"true\",\r\n                httpPost: {\r\n                    url: \"\/node\/lookup\",\r\n                    parameter: {\"conditions\": {\"parent_id\": \"ObjectId(000000010000010001e64c26)\"}, \"collection\": \"node\"}\r\n                }\r\n            }\r\n        }\r\n\r\n    ],\r\n    \"4288fc06-d615-4f1c-ac10-8328153f2c54\": [],\r\n    \"2fb3b2c9-a29c-4fc0-b29d-6eed738b6dab\": [\r\n        {\r\n            title: \"Credentials\",\r\n            type: \"fieldset\",\r\n            items: [\r\n                {\r\n                    type: \"tabs\",\r\n                    tabs: [\r\n                        {\r\n                            title: \"Username\/Password\",\r\n                            items: [\r\n                                {\r\n                                    key: \"credentials[\'usernamePassword\'][\'username\']\",\r\n                                    title: \"Username\",\r\n                                    description: \"The username.\",\r\n                                    type: \"text\",\r\n                                    readonly: false\r\n                                },\r\n                                {\r\n                                    key: \"credentials[\'usernamePassword\'][\'password\']\",\r\n                                    type: \"password\",\r\n                                    title: \"Password\",\r\n                                    description: \"The password.\",\r\n                                    readonly: false\r\n                                }\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            key: \"groups\",\r\n            title: \"Groups\",\r\n            description: \"The groups the user belongs to.\",\r\n            placeholder: \"No groups selected\",\r\n            startEmpty: false,\r\n            type: \"strapselect\",\r\n            options: {\r\n                httpPost: {\r\n                    url: \"\/node\/lookup\",\r\n                    parameter: {\"conditions\": {\"parent_id\": \"ObjectId(000000010000010001e64c24)\"}, \"collection\": \"node\"}\r\n                }\r\n            }\r\n        }\r\n    ]\r\n};\r\n\r\nreturn a;\r\n';
}

function get_schemas() {

    return '{\"db07fe92-a9bd-4791-86ab-b695397f9397\": {\"description\": \"MBE Session Schema\", \"schemaId\": \"db07fe92-a9bd-4791-86ab-b695397f9397\", \"type\": \"object\", \"required\": [\"user_id\", \"createdWhen\", \"schemaId\"], \"collection\": \"session\", \"properties\": {\"createdWhen\": {\"propertyId\": \"877a78e9-5da4-406a-a9e1-e648d8f18e05\", \"format\": \"date-time\", \"description\": \"The time the session was created\", \"type\": \"string\"}, \"user_id\": {\"refSchemaId\": \"2fb3b2c9-a29c-4fc0-b29d-6eed738b6dab\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The logged-in user.\", \"objectId\": true, \"type\": \"string\", \"propertyId\": \"03fd685a-a98b-408b-b9a3-e3877564f611\"}, \"schemaId\": {\"propertyId\": \"21780645-9f2f-4b16-b4a4-65d9108dddb6\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"description\": \"A reference to the schema to which this data adheres.\", \"type\": \"string\"}, \"_id\": {\"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The object id of the session, an object id.\", \"objectId\": true, \"type\": \"string\", \"propertyId\": \"03fd685a-a98b-408b-b9a3-e3877564f611\"}}, \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\", \"title\": \"Session\", \"version\": \"0.1\"}, \"a9ca8030-6ea4-11e4-9803-0800200c9a66\": {\"description\": \"MBE Node Schema\", \"schemaId\": \"a9ca8030-6ea4-11e4-9803-0800200c9a66\", \"type\": \"object\", \"required\": [\"name\", \"createdWhen\", \"schemaId\", \"canRead\", \"canWrite\"], \"collection\": \"node\", \"properties\": {\"parent_id\": {\"refSchemaId\": \"a9ca8030-6ea4-11e4-9803-0800200c9a66\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The parent objectId of the node. Empty if top node.\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"aaf26d75-480a-4176-b4c6-ee544a325ac2\"}, \"description\": {\"propertyId\": \"674286ab-55b8-4e3f-918f-8d3fd9593602\", \"description\": \"The descriptive text of the node.\", \"type\": \"string\"}, \"schemaId\": {\"propertyId\": \"e7b166f5-4bf0-4b8c-9a60-601030daa04b\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"description\": \"The schema id of the node schema, a uuid.\", \"type\": \"string\"}, \"_id\": {\"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The objectId of the node.\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"e9487ec8-dfce-440a-a5d5-e65e89bc84aa\"}, \"name\": {\"propertyId\": \"9ce4a360-53fe-4c02-b894-c5b1787cf835\", \"description\": \"The friendly short name of the node.\", \"type\": \"string\"}, \"createdWhen\": {\"propertyId\": \"293137d2-a97f-482d-8e29-2917b32f5e67\", \"format\": \"date-time\", \"description\": \"The time the node was created\", \"type\": \"string\"}, \"canRead\": {\"minItems\": 1, \"description\": \"A list of the groups that can read the value of the node.\", \"items\": {\"refSchemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"5ede11e9-ccbe-425f-98ac-66d5136ed58b\"}, \"type\": \"array\"}, \"canWrite\": {\"minItems\": 1, \"description\": \"A list of the groups that can write to the node(and create\/delete subnodes).\", \"items\": {\"refSchemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"98286b6b-8cba-4086-8a71-2d754ac023b2\"}, \"type\": \"array\"}, \"allowedChildTypes\": {\"description\": \"A list of the allowed types of children.\", \"items\": {\"propertyId\": \"9161503f-a3fe-4b7e-8c0a-8553bd3f8043\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"type\": \"string\"}, \"type\": \"array\"}}, \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\", \"title\": \"Node\", \"version\": \"0.1\"}, \"bd80acf2-75be-4655-a504-9c87d51487c2\": {\"description\": \"Types used by MBE\", \"schemaId\": \"bd80acf2-75be-4655-a504-9c87d51487c2\", \"type\": \"string\", \"collection\": \"\", \"properties\": {\"datetime\": {\"pattern\": \"^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}.[0-9]{3}$\", \"type\": \"string\"}, \"uuid\": {\"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"type\": \"string\"}, \"objectId\": {\"pattern\": \"^[a-fA-F0-9]{24}$\", \"type\": \"string\"}}, \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\", \"title\": \"Type\", \"version\": 0.1}, \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\": {\"description\": \"MBE Group Schema\", \"required\": [\"name\", \"createdWhen\", \"schemaId\", \"canRead\", \"canWrite\", \"rights\"], \"type\": \"object\", \"schemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"collection\": \"node\", \"properties\": {\"description\": {\"propertyId\": \"674286ab-55b8-4e3f-918f-8d3fd9593602\", \"description\": \"The descriptive text of the node.\", \"type\": \"string\"}, \"schemaId\": {\"propertyId\": \"e7b166f5-4bf0-4b8c-9a60-601030daa04b\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"description\": \"The schema id of the node schema, a uuid.\", \"type\": \"string\"}, \"_id\": {\"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The objectId of the node.\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"e9487ec8-dfce-440a-a5d5-e65e89bc84aa\"}, \"name\": {\"propertyId\": \"9ce4a360-53fe-4c02-b894-c5b1787cf835\", \"description\": \"The friendly short name of the node.\", \"type\": \"string\"}, \"createdWhen\": {\"propertyId\": \"293137d2-a97f-482d-8e29-2917b32f5e67\", \"format\": \"date-time\", \"description\": \"The time the node was created\", \"type\": \"string\"}, \"canWrite\": {\"minItems\": 1, \"description\": \"A list of the groups that can write to the node(and create\/delete subnodes).\", \"items\": {\"refSchemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"98286b6b-8cba-4086-8a71-2d754ac023b2\"}, \"type\": \"array\"}, \"rights\": {\"description\": \"The rights this group have.\", \"items\": {\"propertyId\": \"bd1ce980-86c7-11e4-b4a9-0800200c9a66\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\"}, \"type\": \"array\"}, \"parent_id\": {\"refSchemaId\": \"a9ca8030-6ea4-11e4-9803-0800200c9a66\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The parent objectId of the node. Empty if top node.\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"aaf26d75-480a-4176-b4c6-ee544a325ac2\"}, \"canRead\": {\"minItems\": 1, \"description\": \"A list of the groups that can read the value of the node.\", \"items\": {\"refSchemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"5ede11e9-ccbe-425f-98ac-66d5136ed58b\"}, \"type\": \"array\"}, \"allowedChildTypes\": {\"description\": \"A list of the allowed types of children.\", \"items\": {\"propertyId\": \"9161503f-a3fe-4b7e-8c0a-8553bd3f8043\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"type\": \"string\"}, \"type\": \"array\"}}, \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\", \"title\": \"Group\", \"version\": \"0.1\"}, \"3b9018ce-bc9b-46b4-9e67-4979c36d77fe\": {\"description\": \"MBE Event Schema\", \"schemaId\": \"3b9018ce-bc9b-46b4-9e67-4979c36d77fe\", \"type\": \"object\", \"required\": [\"user_id\", \"writtenWhen\", \"occurredWhen\", \"node_id\", \"schemaId\"], \"collection\": \"log\", \"properties\": {\"writtenWhen\": {\"propertyId\": \"b2dc70cf-93a1-4275-842a-76fc48d1d2d2\", \"format\": \"date-time\", \"description\": \"The time the event was written to the database\", \"type\": \"string\"}, \"node_id\": {\"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The relevant _id in the node-collection, used for tracking changes to a node or identifying reporting functionality.\", \"type\": \"string\", \"propertyId\": \"a062bbc2-1f61-4237-a41f-c16482d5c196\", \"isObjectId\": \"true\"}, \"schemaId\": {\"propertyId\": \"b1b75292-10d4-42be-a438-cd4f9835cc0a\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"description\": \"A reference to the schema to which this data adheres.\", \"type\": \"string\"}, \"_id\": {\"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The object _id of the event, an object id.\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"dcf7fb13-f934-4121-90ec-c8992203a299\"}, \"user_id\": {\"refSchemaId\": \"2fb3b2c9-a29c-4fc0-b29d-6eed738b6dab\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The user involved in the event.\", \"type\": \"string\", \"propertyId\": \"d1714064-a023-4d54-b801-4e6385cf6975\", \"isObjectId\": \"true\"}, \"occurredWhen\": {\"propertyId\": \"965e56c4-2501-453e-b1c7-2fe4d22ca546\", \"format\": \"date-time\", \"description\": \"The time the event occurred\", \"type\": \"string\"}, \"event\": {\"propertyId\": \"aaef2cff-c762-48b5-86b7-06cc55aec675\", \"description\": \"The event that occurred\", \"anyOf\": [{\"add\": {\"description\": \"This document was written to a collection \", \"type\": \"any\"}, \"remove\": {\"description\": \"This document was removed from a collection \", \"type\": \"any\"}, \"error\": {\"description\": \"This error occurred\", \"required\": [\"type\"], \"additionalItems\": false, \"properties\": {\"message\": {\"type\": \"string\"}, \"type\": {\"type\": \"string\"}}, \"type\": \"object\"}, \"notification\": {\"description\": \"This happened\", \"required\": [\"type\"], \"additionalItems\": false, \"properties\": {\"message\": {\"type\": \"string\"}, \"type\": {\"type\": \"string\"}}, \"type\": \"object\"}, \"change\": {\"description\": \"This\/these field(s) was changed in a collection\", \"items\": [{\"description\": \"An individual change\", \"required\": [\"propertyId\"], \"additionalItems\": false, \"properties\": {\"propertyId\": {\"description\": \"The field uuid of the change\", \"type\": \"string\"}, \"after\": {\"description\": \"The value after the change\", \"type\": \"any\"}, \"before\": {\"description\": \"The value before the change\", \"type\": \"any\"}}, \"type\": \"object\"}], \"type\": \"array\"}, \"security\": {\"description\": \"A security related error occurred\", \"required\": [\"type\"], \"additionalItems\": false, \"properties\": {\"message\": {\"type\": \"string\"}, \"type\": {\"enum\": [\"right\", \"permission\", \"attack\"]}}, \"type\": \"object\"}}]}}, \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\", \"title\": \"Event\", \"version\": \"0.1\"}, \"4288fc06-d615-4f1c-ac10-8328153f2c54\": {\"description\": \"MBE Right Schema\", \"required\": [\"name\", \"createdWhen\", \"schemaId\", \"canRead\", \"canWrite\"], \"type\": \"object\", \"schemaId\": \"4288fc06-d615-4f1c-ac10-8328153f2c54\", \"collection\": \"node\", \"properties\": {\"description\": {\"propertyId\": \"01678a5c-956e-44fb-b6e0-f549f5042af9\", \"description\": \"The description of the right\", \"type\": \"string\"}, \"schemaId\": {\"propertyId\": \"e7b166f5-4bf0-4b8c-9a60-601030daa04b\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"description\": \"The schema id of the node schema, a uuid.\", \"type\": \"string\"}, \"_id\": {\"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The objectId of the node.\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"e9487ec8-dfce-440a-a5d5-e65e89bc84aa\"}, \"name\": {\"propertyId\": \"9ce4a360-53fe-4c02-b894-c5b1787cf835\", \"description\": \"The friendly short name of the node.\", \"type\": \"string\"}, \"createdWhen\": {\"propertyId\": \"293137d2-a97f-482d-8e29-2917b32f5e67\", \"format\": \"date-time\", \"description\": \"The time the node was created\", \"type\": \"string\"}, \"canWrite\": {\"minItems\": 1, \"description\": \"A list of the groups that can write to the node(and create\/delete subnodes).\", \"items\": {\"refSchemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"98286b6b-8cba-4086-8a71-2d754ac023b2\"}, \"type\": \"array\"}, \"parent_id\": {\"refSchemaId\": \"a9ca8030-6ea4-11e4-9803-0800200c9a66\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The parent objectId of the node. Empty if top node.\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"aaf26d75-480a-4176-b4c6-ee544a325ac2\"}, \"canRead\": {\"minItems\": 1, \"description\": \"A list of the groups that can read the value of the node.\", \"items\": {\"refSchemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"5ede11e9-ccbe-425f-98ac-66d5136ed58b\"}, \"type\": \"array\"}, \"allowedChildTypes\": {\"description\": \"A list of the allowed types of children.\", \"items\": {\"propertyId\": \"9161503f-a3fe-4b7e-8c0a-8553bd3f8043\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"type\": \"string\"}, \"type\": \"array\"}}, \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\", \"title\": \"Right\", \"version\": \"0.1\"}, \"2fb3b2c9-a29c-4fc0-b29d-6eed738b6dab\": {\"description\": \"MBE User Schema\", \"required\": [\"name\", \"createdWhen\", \"schemaId\", \"canRead\", \"canWrite\", \"groups\"], \"type\": \"object\", \"schemaId\": \"2fb3b2c9-a29c-4fc0-b29d-6eed738b6dab\", \"collection\": \"node\", \"properties\": {\"groups\": {\"description\": \"The groups this user belongs to.\", \"items\": {\"refSchemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"17404cf6-6120-49dc-b07a-1f223a2e005f\"}, \"type\": \"array\"}, \"description\": {\"propertyId\": \"674286ab-55b8-4e3f-918f-8d3fd9593602\", \"description\": \"The descriptive text of the node.\", \"type\": \"string\"}, \"schemaId\": {\"propertyId\": \"e7b166f5-4bf0-4b8c-9a60-601030daa04b\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"description\": \"The schema id of the node schema, a uuid.\", \"type\": \"string\"}, \"_id\": {\"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The objectId of the node.\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"e9487ec8-dfce-440a-a5d5-e65e89bc84aa\"}, \"name\": {\"propertyId\": \"9ce4a360-53fe-4c02-b894-c5b1787cf835\", \"description\": \"The friendly short name of the node.\", \"type\": \"string\"}, \"createdWhen\": {\"propertyId\": \"293137d2-a97f-482d-8e29-2917b32f5e67\", \"format\": \"date-time\", \"description\": \"The time the node was created\", \"type\": \"string\"}, \"canWrite\": {\"minItems\": 1, \"description\": \"A list of the groups that can write to the node(and create\/delete subnodes).\", \"items\": {\"refSchemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"98286b6b-8cba-4086-8a71-2d754ac023b2\"}, \"type\": \"array\"}, \"parent_id\": {\"refSchemaId\": \"a9ca8030-6ea4-11e4-9803-0800200c9a66\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The parent objectId of the node. Empty if top node.\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"aaf26d75-480a-4176-b4c6-ee544a325ac2\"}, \"credentials\": {\"propertyId\": \"c5ec3ea2-3eda-4b63-8449-5c2cb775fc74\", \"anyOf\": [{\"usernamePassword\": {\"propertyId\": \"d0c457b3-7341-4ddc-891d-f79831f89553\", \"description\": \"A username and password combination\", \"required\": [\"username\", \"password\"], \"properties\": {\"username\": {\"propertyId\": \"fc7d05e0-996d-4467-afab-6b99644d4aa0\", \"type\": \"string\"}, \"password\": {\"propertyId\": \"fed1fe4b-31c5-4f1d-a6c8-0e6c38bbb0b8\", \"type\": \"string\"}}, \"type\": \"object\"}, \"clientCertificate\": {\"propertyId\": \"17cc191d-b26a-436f-9736-3c554cd7bbbd\", \"description\": \"A client certificate.  Not implemented.\", \"required\": [\"username\", \"password\"], \"properties\": {\"username\": {\"propertyId\": \"268e4b30-14f9-4716-ba4c-2b7106fc30aa\", \"type\": \"string\"}, \"password\": {\"propertyId\": \"0a09a3a4-1d05-4dea-81a2-31cfd3601aaf\", \"type\": \"string\"}}, \"type\": \"object\"}, \"oneTimePassword\": {\"propertyId\": \"29f57973-1a51-4dcc-82d9-acfe02bdcbf2\", \"description\": \"Set of OTP settings.  Not implemented.\", \"required\": [\"username\", \"password\", \"method\"], \"properties\": {\"username\": {\"propertyId\": \"07ba9a88-5f50-4b86-8a4d-4cd080c2f912\", \"type\": \"string\"}, \"method\": {\"propertyId\": \"3570d360-43f3-469f-b68a-48d6287fb5cf\", \"enum\": [\"SMS\", \"EMAIL\", \"OTHER\"], \"type\": \"string\"}, \"password\": {\"propertyId\": \"62e851e3-1db2-43a7-9b43-942ef459f82b\", \"type\": \"string\"}}, \"type\": \"object\"}}]}, \"canRead\": {\"minItems\": 1, \"description\": \"A list of the groups that can read the value of the node.\", \"items\": {\"refSchemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"5ede11e9-ccbe-425f-98ac-66d5136ed58b\"}, \"type\": \"array\"}, \"allowedChildTypes\": {\"description\": \"A list of the allowed types of children.\", \"items\": {\"propertyId\": \"9161503f-a3fe-4b7e-8c0a-8553bd3f8043\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"type\": \"string\"}, \"type\": \"array\"}}, \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\", \"title\": \"User\", \"version\": \"0.1\"}, \"be32552f-d119-4230-a5c9-cb089bb1b097\": {\"description\": \"MBE Conditions schema\", \"schemaId\": \"be32552f-d119-4230-a5c9-cb089bb1b097\", \"type\": \"object\", \"required\": [\"conditions\", \"collection\"], \"collection\": \"*\", \"properties\": {\"collection\": {\"description\": \"The collection they apply to.\", \"type\": \"string\"}, \"conditions\": {\"description\": \"The conditions.\", \"minProperties\": 0, \"patternProperties\": {\".*\": {}}, \"type\": \"object\"}}, \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\", \"title\": \"Conditions\", \"version\": \"0.1\"}, \"b1b3cff1-798e-4bdd-8175-8c21f18e9163\": {\"description\": \"MBE Form for angular-schema-form\", \"required\": [\"name\", \"createdWhen\", \"schemaId\", \"canRead\", \"canWrite\", \"formDefinition\", \"formSchemaId\"], \"type\": \"object\", \"schemaId\": \"b1b3cff1-798e-4bdd-8175-8c21f18e9163\", \"collection\": \"node\", \"properties\": {\"description\": {\"propertyId\": \"674286ab-55b8-4e3f-918f-8d3fd9593602\", \"description\": \"The descriptive text of the node.\", \"type\": \"string\"}, \"schemaId\": {\"propertyId\": \"e7b166f5-4bf0-4b8c-9a60-601030daa04b\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"description\": \"The schema id of the node schema, a uuid.\", \"type\": \"string\"}, \"_id\": {\"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The objectId of the node.\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"e9487ec8-dfce-440a-a5d5-e65e89bc84aa\"}, \"name\": {\"propertyId\": \"9ce4a360-53fe-4c02-b894-c5b1787cf835\", \"description\": \"The friendly short name of the node.\", \"type\": \"string\"}, \"createdWhen\": {\"propertyId\": \"293137d2-a97f-482d-8e29-2917b32f5e67\", \"format\": \"date-time\", \"description\": \"The time the node was created\", \"type\": \"string\"}, \"canWrite\": {\"minItems\": 1, \"description\": \"A list of the groups that can write to the node(and create\/delete subnodes).\", \"items\": {\"refSchemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"98286b6b-8cba-4086-8a71-2d754ac023b2\"}, \"type\": \"array\"}, \"parent_id\": {\"refSchemaId\": \"a9ca8030-6ea4-11e4-9803-0800200c9a66\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"description\": \"The parent objectId of the node. Empty if top node.\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"aaf26d75-480a-4176-b4c6-ee544a325ac2\"}, \"formSchemaId\": {\"propertyId\": \"47edf1f9-89be-42bb-8868-2b4df50173d4\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"description\": \"The description of the right\", \"type\": \"string\"}, \"formDefinition\": {\"propertyId\": \"6833a3c9-6ef6-4f74-9207-31d20174b1f0\", \"description\": \"The form definition\"}, \"canRead\": {\"minItems\": 1, \"description\": \"A list of the groups that can read the value of the node.\", \"items\": {\"refSchemaId\": \"5d3b8e21-adf3-4005-b73c-1fb63a46f399\", \"pattern\": \"^[a-fA-F0-9]{24}$\", \"objectId\": \"true\", \"type\": \"string\", \"propertyId\": \"5ede11e9-ccbe-425f-98ac-66d5136ed58b\"}, \"type\": \"array\"}, \"allowedChildTypes\": {\"description\": \"A list of the allowed types of children.\", \"items\": {\"propertyId\": \"9161503f-a3fe-4b7e-8c0a-8553bd3f8043\", \"pattern\": \"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$\", \"type\": \"string\"}, \"type\": \"array\"}}, \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\", \"title\": \"Schema form\", \"version\": \"0.1\"}}';
}

function get_top() {
    return '[{\"name\": \"Top\", \"canWrite\": [\"000000010000010001e64c28\"], \"description\": \"All system wide settings, users, permissions, rights \", \"allowedChildTypes\": [\"a9ca8030-6ea4-11e4-9803-0800200c9a66\"], \"schemaId\": \"a9ca8030-6ea4-11e4-9803-0800200c9a66\", \"canRead\": [\"000000010000010001e64c28\"], \"_id\": \"000000010000010001e64c00\", \"createdWhen\": \"2014-11-13T01:00:00+00:00\"}]';
}

function get_administration() {
    return  '[{\"name\": \"Administration\", \"canWrite\": [\"000000010000010001e64c28\"], \"createdWhen\": \"2014-11-13T01:00:00+00:00\", \"allowedChildTypes\": [\"a9ca8030-6ea4-11e4-9803-0800200c9a66\"], \"parent_id\": \"000000010000010001e64c00\", \"schemaId\": \"a9ca8030-6ea4-11e4-9803-0800200c9a66\", \"canRead\": [\"000000010000010001e64c28\"], \"_id\": \"000000010000010001e64c23\", \"description\": \"All system wide settings, users, permissions, rights \"}]';
}

function get_node_renderer() {
    return '<!-- The name(title) area is selectable, click to edit contents -->\r\n<span style=\"font-weight: normal; width: 100%\" >{{item.title}}<\/span>';
}

function get_administration_history() {
    return '[{\"event\": {\"add\": {\"name\": \"Administration\", \"createdWhen\": \"2014-11-13T01:00:00+00:00\", \"_id\": \"000000010000010001e64c23\", \"parent_id\": \"000000010000010001e64c00\", \"canWrite\": [\"000000010000010001e64c28\"], \"description\": \"All system wide settings, users, permissions, rights \", \"schemaId\": \"a9ca8030-6ea4-11e4-9803-0800200c9a66\", \"allowedChildTypes\": [\"a9ca8030-6ea4-11e4-9803-0800200c9a66\"], \"canRead\": [\"000000010000010001e64c28\"]}}, \"_id\": \"55d4b1fca5cb641c886bf40a\", \"node_id\": \"000000010000010001e64c23\", \"occurredWhen\": \"2015-08-19 16:42:36.038360\", \"writtenWhen\": \"2015-08-19 16:42:36.038428\", \"user_id\": null}]';
}

function get_groups_lookup() {
    return '[{"text": "Administrators", "value": "000000010000010001e64c28"}, {"text": "Users", "value": "000000010000010001e64c29"}]';
}

function get_views_nodes() {
    return '<div class=\"local_margins\" ui-layout options=\"{ flow : \'column\' }\">\r\n    <div ui-layout-container class=\"layout_tree\" size=\"25%\" min-size=\"20%\">\r\n        <h3 class=\"nodes-headings\">Node tree<\/h3>\r\n        <schema-tree\r\n            item-renderer=\'views\/nodes\/node_renderer.html\'\r\n            new-node-object-id= \"000000010000010001e64bff\"\r\n            node-manager=\"nodeManager\"\r\n            expander-position=\"left\"\r\n            tree-options=\"treeOptions\">\r\n        <\/schema-tree>\r\n\r\n    <\/div>\r\n    <div ui-layout-container class=\"layout_edit\" size=\"50%\" min-size=\"40%\">\r\n        <h3 class=\"nodes-headings\">Edit<\/h3>\r\n        <!-- The schema editor, maps to the selected_* $scope variables in the controller -->\r\n        <form name=\"ngform\"\r\n              sf-model=\"selected_data\"\r\n              sf-form=\"selected_form\"\r\n              sf-schema=\"selected_schema\"\r\n              sf-options=\"\"\r\n              ng-submit=\"nodeManager.doSubmit(selected_data)\"><\/form>\r\n\r\n    <\/div>\r\n\r\n    <div ui-layout-container class=\"layout_history\" size=\"25%\" min-size=\"20%\">\r\n        <h3 class=\"nodes-headings\">History<\/h3>\r\n        <div ng-model=\"history\" ng-repeat=\"historyItem in nodeManager.history\">\r\n            <b>Occurred when:<\/b> {{historyItem.occurredWhen}}<br\/>\r\n            <b>Id:<\/b> {{ historyItem._id }}<br\/>\r\n            <b>User_id:<\/b> {{historyItem.user_id}}<br\/>\r\n            <div ng-repeat=\"(key, value)  in historyItem.event\">\r\n                <b>{{key}}<\/b>: {{value}}<br \/>\r\n            <\/div>\r\n            <br \/>\r\n            -------------------------------\r\n        <\/div>\r\n\r\n    <\/div>\r\n\r\n\r\n<\/div>'
}

function get_views_schematree() {
    return '<div>\r\n    <!-- The code that represents a node. This code is reused when building the tree. -->\r\n    <script type=\"text\/ng-template\" id=\"items_renderer.html\">\r\n        <!-- If relevant to the type, the top part of the node decoration -->\r\n        <div id=\"item-{{item.id }}\" ng-class=\"currClassName+\'-top\';\">&nbsp;<\/div>\r\n        <!-- The tree item -->\r\n        <!-- Set class after node type decoration -->\r\n        <div ng-class=\"currClassName+\'-item\';\">\r\n            <div ng-init=\"tree.setItemUi(item, this);\">\r\n\r\n                <div ng-style=\"{\'background-color\' : item == tree.selectedItem ? \'#dddddd\' : \'none\'}\" style=\"display: block;\"\r\n                     ui-tree-handle>\r\n                    <a ng-hide=\"(item.allowedChildTypes.length > 0) && (!item.children) || (item.children.length > 0) \"\r\n                       data-nodrag ng-click=\"nodeManager.onAsyncToggleChildren(this, item);\">\r\n                    <\/a>\r\n                    <!-- The expand\/collapse button -->\r\n\r\n                    <a ng-show=\"(expanderPosition ==\'left\') && ((item.allowedChildTypes.length > 0) && (!item.children) || (item.children.length > 0)) \"\r\n                       data-nodrag ng-click=\"tree.onAsyncToggleChildren(this, item);\">\r\n                            <span class=\"fa\"\r\n                                  ng-class=\"{\'fa-plus-square-o\': collapsed, \'fa-minus-square-o\': !collapsed}\"><\/span><\/a>\r\n\r\n                    <!-- Use ng-class and select icon from setting somewhere -->\r\n                    <span ng-class=\"nodeManager.getIconClass(item.type)\"><\/span>\r\n\r\n                    <!-- The file pointed to in $scope.itemRenderer -->\r\n                    <ng-include ng-click=\"nodeManager.onSelectNode(item);\" src=\"itemRenderer\"><\/ng-include>\r\n\r\n                    <!-- The delete button -->\r\n                    <div data-nodrag class=\"right_item\">\r\n\r\n                        <!-- The expand\/collapse button if on the right -->\r\n                        <a ng-show=\"(expanderPosition ==\'right\') && ((item.allowedChildTypes.length > 0) && (!item.children) || (item.children.length > 0)) \"\r\n                           data-nodrag ng-click=\"tree.onAsyncToggleChildren(this, item);\">\r\n                                <span class=\"fa\" ng-class=\"{\'fa-plus-square-o\': collapsed, \'fa-minus-square-o\': !collapsed}\"><\/span><\/a>\r\n                        <span ng-show=\"item.ui.showAddBars\" title=\"Delete\" class=\"delete_node glyphicon glyphicon-remove\" ng-show=\"item.ui.showAddBars\"\r\n                         ng-click=\"tree.deleteNode(this, item.id);\" style=\"\"><\/span>\r\n                        <span ng-hide=\"(expanderPosition ==\'left\') || (item.ui.showAddBars)\">&nbsp;&nbsp;&nbsp;<\/span>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"insert_node add-bar-show-hide\">\r\n                <div title=\"Add a sibling\" style=\"display:inline; float : left;width:auto;\"\r\n                     ng-show=\"item.ui.showAddBars && (item.parentItem.allowedChildTypes.length > 0) && (item.id !== newNodeId)\"\r\n                     ng-click=\"item.ui.downAddSiblingAfter=!item.ui.downAddSiblingAfter;item.ui.downAddChildAfter=!item.ui.downAddSiblingAfter\">\r\n                    <span class=\"caret add-bar-show-hide insert_node_text\"><\/span>\r\n                    <span class=\"add-bar-show-hide insert_node_text\">&nbsp;Add a {{item.parentItem.ui.strAllowedChildTypes}}.<\/span>\r\n\r\n                <\/div>\r\n                <div title=\"Add a child\" style=\"display:inline; float : right;width:auto;\"\r\n                     ng-show=\"item.ui.showAddBars && (item.allowedChildTypes.length > 0) && (item.id !== newNodeId)\"\r\n                     ng-click=\"item.ui.downAddChildAfter=!item.ui.downAddChildAfter;item.ui.downAddSiblingAfter=!item.ui.downAddChildAfter\">\r\n                    <span class=\"add-bar-show-hide insert_node_text\">&nbsp;Add a child {{item.ui.strAllowedChildTypes}}.<\/span>\r\n                    <span class=\"caret add-bar-show-hide insert_node_text\"><\/span>\r\n                <\/div>\r\n            <\/div>\r\n\r\n\r\n            <div ng-mouseleave=\"item.ui.downAddChildAfter=false\"\r\n                 ng-show=\"item.ui.downAddChildAfter\"\r\n                 role=\"menu\">\r\n                <a ng-repeat=\'currSchemaId in item.allowedChildTypes\'\r\n                   ng-click=\"tree.addNode(this, item, true, currSchemaId);\" class=\"list-group-item\" style=\"text-align: right\">\r\n                     {{tree.schemas[currSchemaId].title}} <span class=\"glyphicon glyphicon-triangle-right\"><\/span>\r\n                <\/a>\r\n            <\/div>\r\n\r\n            <div ng-mouseleave=\"item.ui.downAddSiblingAfter=false\"\r\n                 ng-show=\"item.ui.downAddSiblingAfter\"\r\n                 class=\"list-group\" role=\"menu\">\r\n                <a ng-repeat=\'currSchemaId in item.parentItem.allowedChildTypes\'\r\n                   ng-click=\"tree.addNode(this, item, false, currSchemaId);\" class=\"list-group-item\" style=\"text-align: left\">\r\n                   <span class=\"glyphicon glyphicon-triangle-bottom\"><\/span> {{tree.schemas[currSchemaId].title}}\r\n                <\/a>\r\n            <\/div>\r\n\r\n\r\n            <!-- Child nodes, pass on the current item as parent item, -->\r\n            <ol id=\"indenter\" ng-class=\"treeListClass\" ui-tree-nodes=\"options\" ng-model=\"item.children\" ng-class=\"currClassName+\'-indent\';\"\r\n                ng-hide=\"collapsed\">\r\n                <!-- Create child nodes, recursively include this items\' code -->\r\n                <!-- ng-mouseover: Do not let parent trigger mouseover, show add bars, hide parents bars -->\r\n                <!-- ng-mouseleave: Hide add bars -->\r\n                <li ng-repeat=\"item in item.children\"\r\n                    ui-tree-node ng-include=\"\'items_renderer.html\'\" data-collapsed=\"!item.expanded\"\r\n                    ng-init=\"currClassName = nodeManager.getClassFromItem(item); item.ui = {}; item.ui.showAddBars = false;\"\r\n                    ng-right-click=\"$event.stopPropagation();item.ui.showAddBars=true;item.parentItem.ui.showAddBars=false; item.parentItem.ui.downAdd=false;\"\r\n                    ng-mouseleave=\"item.ui.showAddBars=false; item.ui.downAdd=false; \">\r\n                <\/li>\r\n            <\/ol>\r\n\r\n        <\/div>\r\n        <!-- If relevant to the type, the bottom part of the node decoration -->\r\n        <div ng-class=\"currClassName+\'-bottom\';\">&nbsp;<\/div>\r\n\r\n    <\/script>\r\n\r\n    <!-- The root of the tree -->\r\n    <div ui-tree=\"treeOptions\"  id=\"tree-root\" data-drag-delay=\"200\">\r\n        <ol ui-tree-nodes=\"\"  ng-class=\"treeListClass\" ng-model=\"tree.children\" >\r\n            <!-- Create the top nodes -->\r\n            <!-- ng-mouseleave: Hide add bars -->\r\n            <li ng-repeat=\"item in tree.children\"\r\n                ui-tree-node ng-include=\"\'items_renderer.html\'\" data-collapsed=\"!item.expanded\"\r\n                ng-init=\"currClassName = nodeManager.getClassFromItem(item); item.ui = {}; item.ui.showAddBars = false;\"\r\n                ng-right-click=\"item.ui.showAddBars=true;\"\r\n                ng-mouseleave=\"item.ui.showAddBars=false; item.ui.downAdd=false;\">\r\n            <\/li>\r\n        <\/ol>\r\n    <\/div>\r\n\r\n\r\n    <div ng-show=\"false\" id=\"schemaTreeRemoveDialog\" title=\"Remove a node\">\r\n      <p>Are you sure you want to remove this node?<\/p>\r\n    <\/div>\r\n<\/div>'
}